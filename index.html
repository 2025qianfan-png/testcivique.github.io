<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Civique Français - Association Mille Voiles</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <!-- 添加到现有代码中 -->
<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#004080">

<!-- iOS PWA支持 -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Examen Civique">
<link rel="apple-touch-icon" href="/icons/icon-152x152.png">
<link rel="apple-touch-startup-image" href="/splashscreens/iphone5_splash.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="/splashscreens/iphone6_splash.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="/splashscreens/iphoneplus_splash.png" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)">
<link rel="apple-touch-startup-image" href="/splashscreens/iphonex_splash.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">
<link rel="apple-touch-startup-image" href="/splashscreens/iphonexr_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="/splashscreens/iphonexsmax_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)">
<link rel="apple-touch-startup-image" href="/splashscreens/ipad_splash.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="/splashscreens/ipadpro1_splash.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="/splashscreens/ipadpro3_splash.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)">
<link rel="apple-touch-startup-image" href="/splashscreens/ipadpro2_splash.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)">

<!-- Windows PWA支持 -->
<meta name="msapplication-TileColor" content="#004080">
<meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
<meta name="msapplication-config" content="/browserconfig.xml">

<!-- Android Chrome PWA支持 -->
<meta name="mobile-web-app-capable" content="yes">
<meta name="application-name" content="Examen Civique">

<!-- PWA检测脚本 -->
<script>
  // 检测是否在独立模式下运行
  if (window.matchMedia('(display-mode: standalone)').matches) {
    document.documentElement.classList.add('pwa-mode');
  }
</script>
   <style>
        /* Variables et reset */
        :root {
            --primary-blue: #004080;
            --primary-light-blue: #0066cc;
            --primary-yellow: #ffd633;
            --primary-light-yellow: #ffe066;
            --dark-gray: #333333;
            --medium-gray: #666666;
            --light-gray: #f5f7fa;
            --white: #ffffff;
            --green: #27ae60;
            --red: #e74c3c;
            --orange: #f39c12;
            --purple: #8e44ad;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.12);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--dark-gray);
            background-color: var(--light-gray);
            line-height: 1.7;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            line-height: 1.3;
            color: var(--primary-blue);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .main-header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-light-blue) 100%);
            color: var(--white);
            padding: 30px 0;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
        }

        .main-header h1 {
            color: var(--white);
            font-size: 2.8rem;
            margin-bottom: 10px;
        }

        .main-header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Language Toggle */
        .language-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            background: var(--white);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 70px;
            justify-content: center;
        }

        .lang-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .lang-btn.active {
            background: var(--primary-yellow);
            color: var(--primary-blue);
        }

        /* Navigation - 重新设计 */
        .main-nav {
            background-color: var(--white);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            position: relative;
            min-height: 70px;
        }

        .logo {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-blue);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: opacity 0.3s ease;
        }

        .logo i {
            color: var(--primary-yellow);
        }

        /* 汉堡菜单按钮 - 总是在左侧 */
        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 24px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 102;
        }

        .hamburger span {
            width: 100%;
            height: 3px;
            background-color: var(--primary-blue);
            border-radius: 10px;
            transition: var(--transition);
            transform-origin: left center;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(1px, -2px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
            transform: translateX(-20px);
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(1px, 2px);
        }

        /* 导航链接 - 桌面版 */
        .nav-links {
            display: flex;
            gap: 25px;
            align-items: center;
            transition: var(--transition);
        }

        .nav-links a {
            color: var(--dark-gray);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 8px 0;
            white-space: nowrap;
        }

        .nav-links a:hover {
            color: var(--primary-blue);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-blue);
            transition: var(--transition);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* 管理员入口按钮 */
        .admin-access {
            margin-left: 15px;
        }

        .admin-btn {
            background: var(--purple);
            color: white !important;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            font-size: 0.95rem;
            white-space: nowrap;
            min-width: 150px;
            justify-content: center;
            text-align: center;
        }

        .admin-btn:hover {
            background: #5b2c6f;
            transform: translateY(-2px);
            color: white !important;
        }

        .admin-btn i {
            color: white !important;
            font-size: 1rem;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 64, 128, 0.9), rgba(0, 102, 204, 0.9)), url('https://images.unsplash.com/photo-1583409899067-19f1d1997d41?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: var(--white);
            padding: 100px 0;
            text-align: center;
        }

        .hero h2 {
            color: var(--white);
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 40px;
            opacity: 0.9;
        }

        /* Test Cards */
        .test-cards {
            padding: 80px 0;
            background-color: var(--white);
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 2.2rem;
            margin-bottom: 15px;
        }

        .section-title p {
            color: var(--medium-gray);
            max-width: 700px;
            margin: 0 auto;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .test-card {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 2px solid transparent;
            position: relative;
        }

        .test-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary-blue);
        }

        .card-header {
            padding: 30px;
            text-align: center;
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .card-header h3 {
            color: var(--white);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .card-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-yellow);
        }

        .card-body {
            padding: 30px;
        }

        .features-list {
            list-style: none;
            margin-bottom: 30px;
        }

        .features-list li {
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .features-list li i {
            color: var(--green);
        }

        .features-list li:last-child {
            border-bottom: none;
        }

        /* Password Info */
        .password-info {
            background-color: rgba(243, 156, 18, 0.1);
            border: 2px solid var(--orange);
            border-radius: var(--border-radius);
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .password-info p {
            margin: 0;
            font-size: 0.95rem;
            color: var(--dark-gray);
        }

        .password-info a {
            color: var(--primary-blue);
            font-weight: 600;
            text-decoration: none;
        }

        .password-info a:hover {
            text-decoration: underline;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 16px 36px;
            background-color: var(--primary-yellow);
            color: var(--primary-blue);
            border: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            font-family: 'Montserrat', sans-serif;
            box-shadow: var(--shadow);
            text-decoration: none;
            width: 100%;
        }

        .btn:hover {
            background-color: var(--primary-light-yellow);
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .btn-primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--primary-light-blue);
        }

        .btn-success {
            background-color: var(--green);
            color: var(--white);
        }

        .btn-success:hover {
            background-color: #229954;
        }

        /* 主题卡片网格 */
        .themes-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        @media (max-width: 1200px) {
            .themes-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .themes-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .themes-grid {
                grid-template-columns: 1fr;
            }
        }

        .theme-card {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 2px solid transparent;
            text-decoration: none;
            color: inherit;
            display: block;
            height: 100%;
            min-height: 280px;
            display: flex;
            flex-direction: column;
        }

        .theme-card:hover {
            border-color: var(--primary-blue);
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .theme-icon {
            font-size: 2.2rem;
            color: var(--primary-blue);
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        .theme-card h3 {
            margin-bottom: 12px;
            font-size: 1.2rem;
            line-height: 1.4;
            flex-grow: 0;
        }

        .theme-card p {
            color: var(--medium-gray);
            margin-bottom: 20px;
            font-size: 0.9rem;
            line-height: 1.5;
            flex-grow: 1;
        }

        .theme-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-blue);
            font-weight: 600;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        /* Policy Content */
        .policy-content {
            padding: 80px 0;
            background-color: var(--light-gray);
        }

        .article-content {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 50px;
            box-shadow: var(--shadow);
            line-height: 1.8;
        }

        .article-header {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--primary-yellow);
        }

        .article-header h2 {
            font-size: 2.2rem;
            margin-bottom: 15px;
        }

        .article-meta {
            color: var(--medium-gray);
            font-size: 0.9rem;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .article-meta i {
            color: var(--primary-blue);
        }

        /* 文章图片 */
        .article-image {
            width: 100%;
            height: 400px;
            border-radius: var(--border-radius);
            margin: 30px 0;
            overflow: hidden;
            position: relative;
        }

        .article-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .article-image:hover img {
            transform: scale(1.05);
        }

        .image-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: var(--white);
            padding: 10px 15px;
            font-size: 0.85rem;
        }

        .image-citation {
            font-style: italic;
            opacity: 0.8;
        }

        .content-section {
            margin-bottom: 40px;
        }

        .content-section h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-blue);
            padding-left: 15px;
            border-left: 4px solid var(--primary-yellow);
        }

        .content-section p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight-box {
            background-color: rgba(0, 64, 128, 0.05);
            border-left: 4px solid var(--primary-blue);
            padding: 25px;
            border-radius: 0 8px 8px 0;
            margin: 25px 0;
        }

        .highlight-box h4 {
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        /* FAQ Section */
        .faq-section {
            padding: 80px 0;
            background-color: var(--white);
        }

        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            margin-bottom: 20px;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            overflow: hidden;
            cursor: pointer;
        }

        .faq-question {
            padding: 20px;
            background: var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            transition: var(--transition);
        }

        .faq-question:hover {
            background: #e8eef5;
        }

        .faq-question i {
            transition: var(--transition);
        }

        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .faq-item.active .faq-question {
            background: var(--primary-blue);
            color: var(--white);
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        .faq-item.active .faq-answer {
            padding: 20px;
            max-height: 1000px;
        }

        /* Footer */
        .main-footer {
            background-color: var(--primary-blue);
            color: var(--white);
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h4 {
            color: var(--primary-yellow);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: var(--white);
            text-decoration: none;
            opacity: 0.8;
            transition: var(--transition);
        }

        .footer-links a:hover {
            opacity: 1;
            padding-left: 5px;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .contact-item i {
            color: var(--primary-yellow);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* ==================== 响应式设计 ==================== */
        @media (max-width: 1024px) {
            .hamburger {
                display: flex;
            }
            
            /* 桌面端：Logo居中，导航链接在右侧 */
            .nav-container {
                justify-content: space-between;
            }
            
            .logo {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            }
            
            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 100%;
                height: 100vh;
                background-color: var(--white);
                flex-direction: column;
                justify-content: flex-start;
                align-items: flex-start;
                padding: 80px 30px 30px;
                gap: 0;
                transition: right 0.4s ease;
                overflow-y: auto;
                z-index: 101;
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            }
            
            .nav-links.active {
                right: 0;
            }
            
            /* 移除多余的关闭按钮样式 */
            .close-menu {
                display: none;
            }
            
            .nav-links a {
                width: 100%;
                padding: 18px 0;
                border-bottom: 1px solid var(--light-gray);
                font-size: 1.2rem;
                font-weight: 600;
            }
            
            .nav-links a::after {
                display: none;
            }
            
            .nav-links a:hover {
                color: var(--primary-blue);
                background-color: rgba(0, 64, 128, 0.05);
                padding-left: 15px;
            }
            
            .admin-access {
                margin-left: 0;
                margin-top: 20px;
                width: 100%;
            }
            
            .admin-btn {
                width: 100%;
                justify-content: center;
                min-width: unset;
                padding: 15px 20px;
                font-size: 1.1rem;
            }
            
            .main-header h1 {
                font-size: 2.2rem;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .hero {
                padding: 60px 0;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .article-content {
                padding: 30px 20px;
            }
            
            .article-header h2 {
                font-size: 1.8rem;
            }
            
            .article-image {
                height: 300px;
            }
            
            .language-toggle {
                position: relative;
                top: 0;
                right: 0;
                justify-content: center;
                margin: 20px auto;
                width: 100%;
            }
            
            .lang-btn {
                padding: 10px 20px;
                font-size: 1rem;
            }
            
            .nav-container {
                padding: 12px 20px;
            }
        }

        @media (max-width: 768px) {
            .main-header h1 {
                font-size: 1.8rem;
            }
            
            .hero h2 {
                font-size: 1.6rem;
            }
            
            .section-title h2 {
                font-size: 1.8rem;
            }
            
            .card-header h3 {
                font-size: 1.5rem;
            }
            
            .btn {
                padding: 14px 25px;
                font-size: 1rem;
            }
            
            .themes-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .theme-card {
                min-height: 250px;
                padding: 20px;
            }
            
            .nav-links {
                width: 100%;
            }
            
            .logo {
                font-size: 1.3rem;
                left: 50%;
                transform: translateX(-50%);
            }
        }

        @media (max-width: 480px) {
            .main-header h1 {
                font-size: 1.6rem;
            }
            
            .main-header p {
                font-size: 1rem;
            }
            
            .hero h2 {
                font-size: 1.4rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .themes-grid {
                grid-template-columns: 1fr;
            }
            
            .theme-card {
                min-height: 220px;
            }
            
            .article-image {
                height: 250px;
            }
            
            .language-toggle {
                flex-direction: row;
                gap: 10px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .nav-links {
                padding: 70px 20px 20px;
            }
            
            .cards-container {
                gap: 20px;
            }
            
            .test-card {
                margin-bottom: 20px;
            }
            
            .card-header {
                padding: 20px;
            }
            
            .card-body {
                padding: 20px;
            }
            
            .logo {
                font-size: 1.2rem;
            }
            
            .logo i {
                font-size: 1.1rem;
            }
        }

        /* 桌面端导航布局 - 固定 */
        @media (min-width: 1025px) {
            .nav-container {
                justify-content: space-between;
            }
            
            .hamburger {
                display: none;
            }
            
            .logo {
                position: static;
                transform: none;
            }
            
            /* 确保桌面端Logo和导航链接在同一行 */
            .nav-links {
                display: flex;
                position: static;
                width: auto;
                height: auto;
                flex-direction: row;
                padding: 0;
                background: none;
                box-shadow: none;
            }
        }
         /* PWA相关样式 */
  .pwa-install-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
  }
  
  .install-btn {
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-light-blue) 100%);
    color: white;
    border: none;
    border-radius: 50px;
    padding: 12px 24px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 64, 128, 0.3);
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.3s ease;
  }
  
  .install-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 64, 128, 0.4);
  }
  
  .pwa-install-guide {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .install-guide-content {
    background: white;
    border-radius: var(--border-radius);
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-hover);
  }
  
  .install-header {
    background: var(--primary-blue);
    color: white;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: var(--border-radius) var(--border-radius) 0 0;
  }
  
  .install-header h3 {
    color: white;
    margin: 0;
  }
  
  .close-guide {
    background: none;
    border: none;
    color: white;
    font-size: 28px;
    cursor: pointer;
    line-height: 1;
  }
  
  .install-body {
    padding: 20px;
  }
  
  .device-selector {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
  }
  
  .device-selector .device-btn {
    flex: 1;
    padding: 12px;
    border: 2px solid var(--light-gray);
    background: white;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }
  
  .device-selector .device-btn.active {
    border-color: var(--primary-blue);
    background: rgba(0, 64, 128, 0.1);
  }
  
  .install-step {
    display: flex;
    align-items: flex-start;
    margin-bottom: 20px;
  }
  
  .step-number {
    background: var(--primary-blue);
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-right: 15px;
    flex-shrink: 0;
  }
  
  .step-content h4 {
    margin: 0 0 5px 0;
    color: var(--dark-gray);
  }
  
  .step-content p {
    margin: 0;
    color: var(--medium-gray);
  }
  
  .instructions {
    display: none;
  }
  
  .instructions.active {
    display: block;
  }
  
  .install-footer {
    padding: 20px;
    border-top: 1px solid var(--light-gray);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
  }
  
  .offline-notice {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: var(--orange);
    color: white;
    padding: 10px;
    text-align: center;
    z-index: 1001;
  }
  
  .offline-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }
  
  /* PWA模式下的额外样式 */
  body.pwa-mode .main-nav {
    padding-top: env(safe-area-inset-top);
  }
  
  @media (max-width: 768px) {
    .pwa-install-btn {
      bottom: 70px;
      right: 15px;
    }
    
    .install-btn {
      padding: 10px 20px;
      font-size: 0.9rem;
    }
  }
    </style>
</head>
<body>
    <!-- Language Toggle -->
    <div class="language-toggle">
        <button class="lang-btn active" id="langFr" onclick="switchLanguage('fr')">
            <i class="fas fa-language"></i> FR
        </button>
        <button class="lang-btn" id="langZh" onclick="switchLanguage('zh')">
            <i class="fas fa-language"></i> 中文
        </button>
    </div>

    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <h1 id="mainTitle">Examen Civique Français</h1>
            <p id="mainSubtitle">Association Mille Voiles / 千帆协会 - Préparation à l'examen civique obligatoire 2026</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="container nav-container">
            <!-- 汉堡菜单按钮在左侧 -->
            <button class="hamburger" id="hamburgerBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <!-- Logo -->
            <a href="#" class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span id="logoText">Mille Voiles</span>
            </a>
            
            <!-- 导航链接 -->
            <div class="nav-links" id="navLinks">
                <a href="#accueil" id="navHome">Accueil</a>
                <a href="#tests" id="navTests">Tests en ligne</a>
                <a href="#thematiques" id="navThemes">Thématiques</a>
                <a href="#politique" id="navPolicy">Nouvelle politique</a>
                <a href="#faq" id="navFAQ">FAQ</a>
                <a href="#contact" id="navContact">Contact</a>
                
                <!-- 管理员入口 -->
                <div class="admin-access">
                    <a href="admin.html" class="admin-btn" id="adminBtn">
                        <i class="fas fa-user-shield"></i> Administration
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="accueil">
        <div class="container">
            <h2 id="heroTitle">Préparez-vous à l'examen civique 2026</h2>
            <p id="heroText">À partir du 1er janvier 2026, tous les étrangers souhaitant obtenir une carte de séjour pluriannuelle, une carte de résident ou la naturalisation française devront réussir un examen civique. Préparez-vous dès maintenant avec nos tests en ligne.</p>
            <a href="#tests" class="btn btn-primary" id="heroBtn">Commencer maintenant</a>
        </div>
    </section>

    <!-- Test Cards -->
    <section class="test-cards" id="tests">
        <div class="container">
            <div class="section-title">
                <h2 id="testsTitle">Choisissez votre test</h2>
                <p id="testsSubtitle">Deux options adaptées à vos besoins : test gratuit d'évaluation ou test complet pour nos étudiants</p>
            </div>
            
            <div class="cards-container">
                <!-- Free Test Card -->
                <div class="test-card">
                    <div class="card-header">
                        <h3 id="freeTestTitle">Test Gratuit</h3>
                        <div class="card-price" id="freeTestPrice">GRATUIT</div>
                        <p id="freeTestDesc">Évaluation de niveau</p>
                    </div>
                    <div class="card-body">
                        <ul class="features-list">
                            <li><i class="fas fa-check"></i> <span id="feature1">20 questions adaptatives</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature2">Durée : 20 minutes</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature3">Correction immédiate</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature4">Recommandation de cours</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature5">Sans engagement</span></li>
                        </ul>
                        
                        <div class="password-info">
                            <p id="passwordInfoFree">
                                <i class="fas fa-key"></i> <strong>Accès protégé :</strong> 
                                Pour obtenir le mot de passe, contactez-nous à 
                                <a href="mailto:2025qianfan@gmail.com" id="contactEmailFree">2025qianfan@gmail.com</a>
                            </p>
                        </div>
                        
                        <a href="test-gratuit.html" class="btn btn-primary" id="freeTestBtn">
                            <i class="fas fa-play-circle"></i> Commencer le test gratuit
                        </a>
                    </div>
                </div>
                
                <!-- Student Test Card -->
                <div class="test-card">
                    <div class="card-header" style="background-color: var(--green);">
                        <h3 id="studentTestTitle">Test Étudiant</h3>
                        <div class="card-price" id="studentTestPrice">ACCÈS LIMITÉ</div>
                        <p id="studentTestDesc">Pour nos étudiants inscrits</p>
                    </div>
                    <div class="card-body">
                        <ul class="features-list">
                            <li><i class="fas fa-check"></i> <span id="feature6">40 questions conformes</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature7">Durée : 45 minutes</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature8">Simulation réelle</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature9">Résultats par email</span></li>
                            <li><i class="fas fa-check"></i> <span id="feature10">Accès à la plateforme</span></li>
                        </ul>
                        
                        <div class="password-info">
                            <p id="passwordInfoStudent">
                                <i class="fas fa-lock"></i> <strong>Accès réservé :</strong> 
                                Mot de passe fourni après inscription aux cours de l'association
                            </p>
                        </div>
                        
                        <a href="test-etudiant.html" class="btn btn-success" id="studentTestBtn">
                            <i class="fas fa-lock"></i> Accéder au test étudiant
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 主题卡片网格 - 5个主题 -->
    <section class="policy-content" id="thematiques">
        <div class="container">
            <div class="section-title">
                <h2 id="themesTitle">Thématiques de l'examen</h2>
                <p id="themesSubtitle">Les 5 thématiques principales que vous devrez maîtriser pour réussir l'examen civique</p>
            </div>
            
            <div class="themes-grid">
                <!-- 主题1 -->
                <a href="thematique-valeurs.html" class="theme-card">
                    <div class="theme-icon">
                        <i class="fas fa-flag"></i>
                    </div>
                    <h3 id="theme1">Principes et valeurs</h3>
                    <p id="theme1Desc">La devise et les symboles de la République, la laïcité, les valeurs fondamentales de la France.</p>
                    <div class="theme-link">
                        <span id="link1Text">En savoir plus</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </a>
                
                <!-- 主题2 -->
                <a href="thematique-institutions.html" class="theme-card">
                    <div class="theme-icon">
                        <i class="fas fa-landmark"></i>
                    </div>
                    <h3 id="theme2">Institutions</h3>
                    <p id="theme2Desc">Organisation de la République française, l'Union européenne et ses institutions politiques.</p>
                    <div class="theme-link">
                        <span id="link2Text">En savoir plus</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </a>
                
                <!-- 主题3 -->
                <a href="thematique-droits.html" class="theme-card">
                    <div class="theme-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h3 id="theme3">Droits et devoirs</h3>
                    <p id="theme3Desc">Les droits fondamentaux, les obligations et devoirs des personnes résidant en France.</p>
                    <div class="theme-link">
                        <span id="link3Text">En savoir plus</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </a>
                
                <!-- 主题4 -->
                <a href="thematique-culture.html" class="theme-card">
                    <div class="theme-icon">
                        <i class="fas fa-theater-masks"></i>
                    </div>
                    <h3 id="theme4">Culture française</h3>
                    <p id="theme4Desc">L'Histoire, la géographie et la culture françaises, patrimoine culturel national.</p>
                    <div class="theme-link">
                        <span id="link4Text">En savoir plus</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </a>
                
                <!-- 主题5 -->
                <a href="thematique-societe.html" class="theme-card">
                    <div class="theme-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 id="theme5">Vie sociale</h3>
                    <p id="theme5Desc">L'autorité parentale, système éducatif, travail en France et services publics.</p>
                    <div class="theme-link">
                        <span id="link5Text">En savoir plus</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Policy Content -->
    <section class="policy-content" id="politique">
        <div class="container">
            <div class="article-content">
                <div class="article-header">
                    <h2 id="articleTitle">Un nouvel examen civique pour les étrangers souhaitant s'installer en France</h2>
                    <div class="article-meta">
                        <span><i class="far fa-calendar"></i> <span id="articleDate">Publié le 18 décembre 2025</span></span>
                        <span><i class="fas fa-building"></i> <span id="articleSource">Service Public / Direction de l'information légale et administrative (Premier ministre)</span></span>
                    </div>
                </div>
                
                <!-- 文章图片 -->
                <div class="article-image">
                    <img src="https://www.leparisien.fr/resizer/ZnvsKA9JRhRoUFUhp0qZyQ7cqVY=/932x582/cloudfront-eu-central-1.images.arcpublishing.com/leparisien/KH3X37UNKRGUPI5PA6NZ3DX7UQ.jpg" alt="Examen civique en France" id="articleImage">
                    <div class="image-caption">
                        <span id="imageCaption">Examen civique - Nouvelle exigence pour les étrangers souhaitant s'installer en France</span>
                        <br>
                        <span class="image-citation" id="imageCitation">Crédit: LP/ Jean-Baptiste Quentin</span>
                    </div>
                </div>
                
                <div class="content-section">
                    <p id="introPara">
                        Pour obtenir une carte de séjour pluriannuelle, une carte de résident ou la naturalisation française, les étrangers devront avoir réussi un examen civique à compter du 1er janvier 2026. Ce test vise notamment à évaluer leur connaissance des principes et valeurs de la République, ainsi que des droits et devoirs des personnes résidant en France.
                    </p>
                </div>
                
                <div class="content-section">
                    <h3 id="section1Title">Contexte légal</h3>
                    <p id="section1Text1">
                        La loi du 26 janvier 2024 pour contrôler l'immigration, améliorer l'intégration a notamment créé un examen civique.
                    </p>
                    <p id="section1Text2">
                        Cette épreuve, d'une durée de 45 minutes maximum et réalisée sur support numérique, se présente sous la forme d'un questionnaire à choix multiples (QCM) comprenant 40 questions (28 questions de connaissances générales et 12 questions de mises en situation) ; à chaque fois, une seule réponse est correcte parmi les 4 options proposées. Pour valider l'examen, il faut avoir obtenu au moins 32 bonnes réponses (soit 80 % de réussite).
                    </p>
                </div>
                
                <div class="content-section">
                    <h3 id="section2Title">Qui est concerné ?</h3>
                    <p id="section2Text1">
                        À partir du 1er janvier 2026, la réussite à cet examen sera obligatoire pour :
                    </p>
                    <div class="highlight-box">
                        <h4 id="highlight1Title">Obligations à partir du 1er janvier 2026 :</h4>
                        <ul style="list-style: none; padding-left: 0;">
                            <li id="obligation1">• Obtenir la naturalisation française</li>
                            <li id="obligation2">• Acquérir un titre de séjour pluriannuel (carte de séjour pluriannuelle ou carte de résident), si vous êtes un ressortissant d'un pays non-membre de l'Union européenne</li>
                        </ul>
                    </div>
                    
                    <div class="highlight-box" style="background-color: rgba(39, 174, 96, 0.05); border-left-color: var(--green);">
                        <h4 id="highlight2Title">Exceptions :</h4>
                        <ul style="list-style: none; padding-left: 0;">
                            <li id="exception1">• Vous n'aurez pas à passer l'examen civique si vous demandez le renouvellement de votre carte de séjour pluriannuelle ou de votre carte de résident</li>
                            <li id="exception2">• Vous n'êtes pas concerné par cet examen si vous êtes bénéficiaire d'une protection internationale, notamment</li>
                        </ul>
                    </div>
                </div>
                
                <div class="content-section">
                    <h3 id="section3Title">Quand passer l'examen civique ?</h3>
                    <p id="section3Text1">
                        L'examen civique devra être passé avant le dépôt de la demande de titre de séjour ou de naturalisation.
                    </p>
                    <p id="section3Text2">
                        Pour les personnes souhaitant obtenir un titre de séjour pluriannuel, l'examen interviendra obligatoirement en conclusion d'une formation civique (d'une durée de 24 heures, réparties sur 4 jours). Actuellement, cette formation est suivie par les étrangers après l'obtention de leur titre de séjour, dans le cadre de leur contrat d'intégration républicaine. À compter du 1er janvier 2026, ils devront donc suivre cette formation avant l'obtention de leur titre de séjour.
                    </p>
                    
                    <div class="highlight-box">
                        <h4 id="highlight3Title">Important :</h4>
                        <p id="highlight3Text">L'attestation de réussite à l'examen civique n'aura pas une durée de validité limitée.</p>
                    </div>
                </div>
                
                <div class="content-section">
                    <h3 id="section4Title">Thématiques de l'examen</h3>
                    <p id="section4Text">
                        Chaque QCM composant l'examen civique comprendra des questions sur les 5 thématiques étudiées lors de la formation civique :
                    </p>
                    
                    <p id="resourceText" style="margin-top: 30px; font-style: italic;">
                        Vous pouvez trouver des fiches pour préparer l'examen civique, et prendre connaissance des centres agréés au sein desquels il est possible de passer l'examen sur le site formation-civique.interieur.gouv.fr.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section" id="faq">
        <div class="container">
            <div class="section-title">
                <h2 id="faqTitle">Questions fréquentes</h2>
                <p id="faqSubtitle">Trouvez rapidement des réponses à vos questions sur le nouvel examen civique</p>
            </div>
            
            <div class="faq-container">
                <!-- FAQ 1 -->
                <div class="faq-item" data-id="1">
                    <div class="faq-question">
                        <span id="faq1Q">Qui doit passer l'examen civique ?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <div id="faq1AFr">
                            <p>À partir du 1er janvier 2026, tous les étrangers non-ressortissants de l'UE souhaitant obtenir une carte de séjour pluriannuelle, une carte de résident ou la naturalisation française devront passer et réussir l'examen civique.</p>
                        </div>
                        <div id="faq1AZh" style="display: none;">
                            <p>从2026年1月1日起，所有希望获得多年居留卡、长期居留卡或法国国籍的非欧盟外国人都必须参加并通过公民考试。</p>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 2 -->
                <div class="faq-item" data-id="2">
                    <div class="faq-question">
                        <span id="faq2Q">Combien de questions dans l'examen officiel ?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <div id="faq2AFr">
                            <p>L'examen officiel comprend 40 questions : 28 questions de connaissances générales et 12 questions de mises en situation. Pour réussir, il faut obtenir au moins 32 bonnes réponses (80%).</p>
                        </div>
                        <div id="faq2AZh" style="display: none;">
                            <p>官方考试包括40道题：28道一般知识题和12道情境题。要通过考试，必须获得至少32个正确答案（80%）。</p>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 3 -->
                <div class="faq-item" data-id="3">
                    <div class="faq-question">
                        <span id="faq3Q">L'examen civique remplace-t-il le test de langue ?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <div id="faq3AFr">
                            <p>Non, l'examen civique est un nouvel examen supplémentaire. Pour la naturalisation ou certains titres de séjour, vous devez toujours prouver votre maîtrise du français.</p>
                        </div>
                        <div id="faq3AZh" style="display: none;">
                            <p>不，公民考试是一项新增的考试。对于入籍或某些居留许可，您仍然需要证明您的法语水平。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer" id="contact">
        <div class="container">
            <div class="footer-content">
                <!-- About Column -->
                <div class="footer-column">
                    <h4 id="footerAbout">À propos</h4>
                    <p id="footerAboutText">
                        L'association Mille Voiles accompagne les communautés chinoises en France dans leurs démarches d'intégration, d'apprentissage du français et de préparation aux examens officiels.
                    </p>
                </div>
                
                <!-- Quick Links Column -->
                <div class="footer-column">
                    <h4 id="footerLinks">Liens rapides</h4>
                    <ul class="footer-links">
                        <li><a href="#accueil"><i class="fas fa-chevron-right"></i> <span id="footerLink1">Accueil</span></a></li>
                        <li><a href="#tests"><i class="fas fa-chevron-right"></i> <span id="footerLink2">Tests en ligne</span></a></li>
                        <li><a href="#thematiques"><i class="fas fa-chevron-right"></i> <span id="footerLink3">Thématiques</span></a></li>
                        <li><a href="#politique"><i class="fas fa-chevron-right"></i> <span id="footerLink4">Nouvelle politique</span></a></li>
                        <li><a href="#faq"><i class="fas fa-chevron-right"></i> <span id="footerLink5">FAQ</span></a></li>
                        <li><a href="admin.html"><i class="fas fa-chevron-right"></i> <span id="footerLink6">Administration</span></a></li>
                    </ul>
                </div>
                
                <!-- Contact Column -->
                <div class="footer-column">
                    <h4 id="footerContact">Contact</h4>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span id="footerEmail">2025qianfan@gmail.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span id="footerAddress">Association enregistrée à Paris</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p id="footerCopyright">&copy; 2025 Association Mille Voiles / 千帆协会 - Tous droits réservés.</p>
            </div>
        </div>
    </footer>
<!-- PWA安装引导浮动按钮 -->
<div id="pwa-install-button" class="pwa-install-btn" style="display: none;">
  <button onclick="showInstallGuide()" class="install-btn">
    <i class="fas fa-download"></i>
    <span id="installBtnText">Installer l'app</span>
  </button>
</div>

<!-- PWA安装引导弹窗 -->
<div id="pwa-install-guide" class="pwa-install-guide" style="display: none;">
  <div class="install-guide-content">
    <div class="install-header">
      <h3 id="installGuideTitle">Installer l'application</h3>
      <button class="close-guide" onclick="closeInstallGuide()">&times;</button>
    </div>
    
    <div class="install-body">
      <div class="device-selector">
        <button class="device-btn active" onclick="showInstructions('ios')" id="iosBtn">
          <i class="fab fa-apple"></i> iPhone (Safari)
        </button>
        <button class="device-btn" onclick="showInstructions('android')" id="androidBtn">
          <i class="fab fa-android"></i> Android (Chrome)
        </button>
      </div>
      
      <!-- iOS Instructions -->
      <div id="ios-instructions" class="instructions active">
        <div class="install-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4 id="iosStep1">Ouvrez Safari</h4>
            <p id="iosStep1Desc">Accédez à cette page via Safari sur votre iPhone</p>
          </div>
        </div>
        
        <div class="install-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4 id="iosStep2">Cliquez sur "Partager"</h4>
            <p id="iosStep2Desc">Appuyez sur l'icône <i class="fas fa-share"></i> en bas de l'écran</p>
          </div>
        </div>
        
        <div class="install-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4 id="iosStep3">Ajouter à l'écran d'accueil</h4>
            <p id="iosStep3Desc">Faites défiler et sélectionnez "Sur l'écran d'accueil"</p>
          </div>
        </div>
        
        <div class="install-step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4 id="iosStep4">Confirmer l'installation</h4>
            <p id="iosStep4Desc">Appuyez sur "Ajouter" en haut à droite</p>
          </div>
        </div>
      </div>
      
      <!-- Android Instructions -->
      <div id="android-instructions" class="instructions">
        <div class="install-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4 id="androidStep1">Ouvrez Chrome</h4>
            <p id="androidStep1Desc">Accédez à cette page via Chrome sur votre Android</p>
          </div>
        </div>
        
        <div class="install-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4 id="androidStep2">Menu des options</h4>
            <p id="androidStep2Desc">Appuyez sur les trois points <i class="fas fa-ellipsis-v"></i> en haut à droite</p>
          </div>
        </div>
        
        <div class="install-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4 id="androidStep3">Installer l'app</h4>
            <p id="androidStep3Desc">Sélectionnez "Ajouter à l'écran d'accueil"</p>
          </div>
        </div>
        
        <div class="install-step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4 id="androidStep4">Confirmer</h4>
            <p id="androidStep4Desc">Appuyez sur "Installer" pour confirmer</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="install-footer">
      <button class="btn btn-secondary" onclick="closeInstallGuide()" id="closeGuideBtn">Fermer</button>
      <button class="btn btn-primary" onclick="installPWA()" id="installPwaBtn" style="display: none;">
        <i class="fas fa-download"></i> Installer maintenant
      </button>
    </div>
  </div>
</div>

<!-- 离线提示 -->
<div id="offline-notice" class="offline-notice" style="display: none;">
  <div class="offline-content">
    <i class="fas fa-wifi-slash"></i>
    <span id="offlineText">Mode hors ligne - Vous pouvez continuer à utiliser l'application</span>
  </div>
</div>
    <!-- JavaScript -->
    <script>
        // 禁止右键和快捷键
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
        });

        document.addEventListener('keydown', function (e) {
            if (e.ctrlKey && ['c', 'u', 's', 'x', 'v', 'a'].includes(e.key.toLowerCase())) {
                e.preventDefault();
            }
            if (e.key === 'F12') {
                e.preventDefault();
            }
        });

        // 汉堡菜单功能
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const navLinks = document.getElementById('navLinks');
        
        if (hamburgerBtn && navLinks) {
            // 打开/关闭菜单
            hamburgerBtn.addEventListener('click', function() {
                hamburgerBtn.classList.toggle('active');
                navLinks.classList.toggle('active');
            });
            
            // 点击导航链接后关闭菜单（移动设备）
            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth <= 1024) {
                        hamburgerBtn.classList.remove('active');
                        navLinks.classList.remove('active');
                    }
                });
            });
            
            // 点击菜单外部关闭菜单
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 1024 && 
                    navLinks.classList.contains('active') && 
                    !navLinks.contains(e.target) && 
                    !hamburgerBtn.contains(e.target)) {
                    hamburgerBtn.classList.remove('active');
                    navLinks.classList.remove('active');
                }
            });
            
            // 按ESC键关闭菜单
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && navLinks.classList.contains('active')) {
                    hamburgerBtn.classList.remove('active');
                    navLinks.classList.remove('active');
                }
            });
        }

        // 语言切换数据
        const translations = {
            fr: {
                // Header
                mainTitle: "Examen Civique Français",
                mainSubtitle: "Association Mille Voiles / 千帆协会 - Préparation à l'examen civique obligatoire 2026",
                logoText: "Mille Voiles",
                
                // Navigation
                navHome: "Accueil",
                navTests: "Tests en ligne",
                navThemes: "Thématiques",
                navPolicy: "Nouvelle politique",
                navFAQ: "FAQ",
                navContact: "Contact",
                adminBtn: '<i class="fas fa-user-shield"></i> Administration',
                
                // Hero
                heroTitle: "Préparez-vous à l'examen civique 2026",
                heroText: "À partir du 1er janvier 2026, tous les étrangers souhaitant obtenir une carte de séjour pluriannuelle, une carte de résident ou la naturalisation française devront réussir un examen civique. Préparez-vous dès maintenant avec nos tests en ligne.",
                heroBtn: "Commencer maintenant",
                
                // Test Cards
                testsTitle: "Choisissez votre test",
                testsSubtitle: "Deux options adaptées à vos besoins : test gratuit d'évaluation ou test complet pour nos étudiants",
                
                freeTestTitle: "Test Gratuit",
                freeTestPrice: "GRATUIT",
                freeTestDesc: "Évaluation de niveau",
                feature1: "20 questions adaptatives",
                feature2: "Durée : 20 minutes",
                feature3: "Correction immédiate",
                feature4: "Recommandation de cours",
                feature5: "Sans engagement",
                passwordInfoFree: '<i class="fas fa-key"></i> <strong>Accès protégé :</strong> Pour obtenir le mot de passe, contactez-nous à <a href="mailto:2025qianfan@gmail.com">2025qianfan@gmail.com</a>',
                freeTestBtn: '<i class="fas fa-play-circle"></i> Commencer le test gratuit',
                
                studentTestTitle: "Test Étudiant",
                studentTestPrice: "ACCÈS LIMITÉ",
                studentTestDesc: "Pour nos étudiants inscrits",
                feature6: "40 questions conformes",
                feature7: "Durée : 45 minutes",
                feature8: "Simulation réelle",
                feature9: "Résultats par email",
                feature10: "Accès à la plateforme",
                passwordInfoStudent: '<i class="fas fa-lock"></i> <strong>Accès réservé :</strong> Mot de passe fourni après inscription aux cours de l\'association',
                studentTestBtn: '<i class="fas fa-lock"></i> Accéder au test étudiant',
                
                // Themes
                themesTitle: "Thématiques de l'examen",
                themesSubtitle: "Les 5 thématiques principales que vous devrez maîtriser pour réussir l'examen civique",
                theme1: "Principes et valeurs",
                theme1Desc: "La devise et les symboles de la République, la laïcité, les valeurs fondamentales de la France.",
                theme2: "Institutions",
                theme2Desc: "Organisation de la République française, l'Union européenne et ses institutions politiques.",
                theme3: "Droits et devoirs",
                theme3Desc: "Les droits fondamentaux, les obligations et devoirs des personnes résidant en France.",
                theme4: "Culture française",
                theme4Desc: "L'Histoire, la géographie et la culture françaises, patrimoine culturel national.",
                theme5: "Vie sociale",
                theme5Desc: "L'autorité parentale, système éducatif, travail en France et services publics.",
                link1Text: "En savoir plus",
                link2Text: "En savoir plus",
                link3Text: "En savoir plus",
                link4Text: "En savoir plus",
                link5Text: "En savoir plus",
                
                // Policy Content
                articleTitle: "Un nouvel examen civique pour les étrangers souhaitant s'installer en France",
                articleDate: "Publié le 18 décembre 2025",
                articleSource: "Service Public / Direction de l'information légale et administrative (Premier ministre)",
                imageCaption: "Examen civique - Nouvelle exigence pour les étrangers souhaitant s'installer en France",
                imageCitation: "Crédit: LP/ Jean-Baptiste Quentin",
                introPara: "Pour obtenir une carte de séjour pluriannuelle, une carte de résident ou la naturalisation française, les étrangers devront avoir réussi un examen civique à compter du 1er janvier 2026. Ce test vise notamment à évaluer leur connaissance des principes et valeurs de la République, ainsi que des droits et devoirs des personnes résidant en France.",
                section1Title: "Contexte légal",
                section1Text1: "La loi du 26 janvier 2024 pour contrôler l'immigration, améliorer l'intégration a notamment créé un examen civique.",
                section1Text2: "Cette épreuve, d'une durée de 45 minutes maximum et réalisée sur support numérique, se présente sous la forme d'un questionnaire à choix multiples (QCM) comprenant 40 questions (28 questions de connaissances générales et 12 questions de mises en situation) ; à chaque fois, une seule réponse est correcte parmi les 4 options proposées. Pour valider l'examen, il faut avoir obtenu au moins 32 bonnes réponses (soit 80 % de réussite).",
                section2Title: "Qui est concerné ?",
                section2Text1: "À partir du 1er janvier 2026, la réussite à cet examen sera obligatoire pour :",
                highlight1Title: "Obligations à partir du 1er janvier 2026 :",
                obligation1: "• Obtenir la naturalisation française",
                obligation2: "• Acquérir un titre de séjour pluriannuel (carte de séjour pluriannuelle ou carte de résident), si vous êtes un ressortissant d'un pays non-membre de l'Union européenne",
                highlight2Title: "Exceptions :",
                exception1: "• Vous n'aurez pas à passer l'examen civique si vous demandez le renouvellement de votre carte de séjour pluriannuelle ou de votre carte de résident",
                exception2: "• Vous n'êtes pas concerné par cet examen si vous êtes bénéficiaire d'une protection internationale, notamment",
                section3Title: "Quand passer l'examen civique ?",
                section3Text1: "L'examen civique devra être passé avant le dépôt de la demande de titre de séjour ou de naturalisation.",
                section3Text2: "Pour les personnes souhaitant obtenir un titre de séjour pluriannuel, l'examen interviendra obligatoirement en conclusion d'une formation civique (d'une durée de 24 heures, réparties sur 4 jours). Actuellement, cette formation est suivie par les étrangers après l'obtention de leur titre de séjour, dans le cadre de leur contrat d'intégration républicaine. À compter du 1er janvier 2026, ils devront donc suivre cette formation avant l'obtention de leur titre de séjour.",
                highlight3Title: "Important :",
                highlight3Text: "L'attestation de réussite à l'examen civique n'aura pas une durée de validité limitée.",
                section4Title: "Thématiques de l'examen",
                section4Text: "Chaque QCM composant l'examen civique comprendra des questions sur les 5 thématiques étudiées lors de la formation civique :",
                resourceText: "Vous pouvez trouver des fiches pour préparer l'examen civique, et prendre connaissance des centres agréés au sein desquels il est possible de passer l'examen sur le site formation-civique.interieur.gouv.fr.",
                
                // FAQ Section
                faqTitle: "Questions fréquentes",
                faqSubtitle: "Trouvez rapidement des réponses à vos questions sur le nouvel examen civique",
                faq1Q: "Qui doit passer l'examen civique ?",
                faq2Q: "Combien de questions dans l'examen officiel ?",
                faq3Q: "L'examen civique remplace-t-il le test de langue ?",
                
                // Footer
                footerAbout: "À propos",
                footerAboutText: "L'association Mille Voiles accompagne les communautés chinoises en France dans leurs démarches d'intégration, d'apprentissage du français et de préparation aux examens officiels.",
                footerLinks: "Liens rapides",
                footerLink1: "Accueil",
                footerLink2: "Tests en ligne",
                footerLink3: "Thématiques",
                footerLink4: "Nouvelle politique",
                footerLink5: "FAQ",
                footerLink6: "Administration",
                footerContact: "Contact",
                footerEmail: "2025qianfan@gmail.com",
                footerAddress: "Association enregistrée à Paris",
                footerCopyright: "© 2025 Association Mille Voiles / 千帆协会 - Tous droits réservés."
            },
            zh: {
                // Header
                mainTitle: "法国公民考试",
                mainSubtitle: "千帆协会 / Association Mille Voiles - 2026年强制性公民考试准备",
                logoText: "千帆协会",
                
                // Navigation
                navHome: "首页",
                navTests: "在线测试",
                navThemes: "考试主题",
                navPolicy: "新政解读",
                navFAQ: "常见问题",
                navContact: "联系我们",
                adminBtn: '<i class="fas fa-user-shield"></i> 管理后台',
                
                // Hero
                heroTitle: "为2026年公民考试做好准备",
                heroText: "从2026年1月1日起，所有希望获得多年居留卡、长期居留卡或法国国籍的外国人都必须通过一项公民考试。立即使用我们的在线测试开始准备。",
                heroBtn: "立即开始",
                
                // Test Cards
                testsTitle: "选择您的测试",
                testsSubtitle: "两种选项满足您的需求：免费评估测试或为我们的学员提供的完整测试",
                
                freeTestTitle: "免费测试",
                freeTestPrice: "免费",
                freeTestDesc: "水平评估",
                feature1: "20道自适应题目",
                feature2: "时长：20分钟",
                feature3: "即时批改",
                feature4: "课程推荐",
                feature5: "无绑定",
                passwordInfoFree: '<i class="fas fa-key"></i> <strong>受保护访问：</strong> 要获取密码，请通过邮件联系我们 <a href="mailto:2025qianfan@gmail.com">2025qianfan@gmail.com</a>',
                freeTestBtn: '<i class="fas fa-play-circle"></i> 开始免费测试',
                
                studentTestTitle: "学员测试",
                studentTestPrice: "限时访问",
                studentTestDesc: "供我们已注册学员使用",
                feature6: "40道符合标准的题目",
                feature7: "时长：45分钟",
                feature8: "真实模拟",
                feature9: "邮件发送结果",
                feature10: "访问学习平台",
                passwordInfoStudent: '<i class="fas fa-lock"></i> <strong>受限访问：</strong> 报名参加协会课程后提供密码',
                studentTestBtn: '<i class="fas fa-lock"></i> 进入学员测试',
                
                // Themes
                themesTitle: "考试主题",
                themesSubtitle: "您必须掌握的5个主要主题才能通过公民考试",
                theme1: "原则与价值观",
                theme1Desc: "共和国的格言和象征，政教分离，法国的基本价值观。",
                theme2: "机构",
                theme2Desc: "法国共和国的组织，欧盟及其政治机构。",
                theme3: "权利与义务",
                theme3Desc: "基本权利，在法国居住者的义务和责任。",
                theme4: "法国文化",
                theme4Desc: "法国的历史、地理和文化，国家文化遗产。",
                theme5: "社会生活",
                theme5Desc: "父母权威，教育体系，在法国工作和公共服务。",
                link1Text: "了解更多",
                link2Text: "了解更多",
                link3Text: "了解更多",
                link4Text: "了解更多",
                link5Text: "了解更多",
                
                // Policy Content
                articleTitle: "面向希望在法国定居的外国人的新公民考试",
                articleDate: "发布于2025年12月18日",
                articleSource: "公共服务 / 总理府法律与行政信息局",
                imageCaption: "公民考试 - 希望在法国定居的外国人的新要求",
                imageCitation: "图片来源：LP/ Jean-Baptiste Quentin",
                introPara: "从2026年1月1日起，外国人必须通过公民考试才能获得多年居留卡、长期居留卡或法国国籍。此考试旨在评估他们对共和国原则和价值观，以及在法国居住者的权利和义务的了解。",
                section1Title: "法律背景",
                section1Text1: "2024年1月26日颁布的《控制移民，改善融合法》特别设立了这项公民考试。",
                section1Text2: "这项考试最长持续45分钟，在数字设备上进行，形式为包含40道题（28道一般知识题和12道情境题）的多项选择题（QCM）；每道题提供4个选项，只有一个正确答案。要通过考试，必须获得至少32个正确答案（即80%的正确率）。",
                section2Title: "谁受影响？",
                section2Text1: "从2026年1月1日起，以下情况必须通过此考试：",
                highlight1Title: "从2026年1月1日起的义务：",
                obligation1: "• 获得法国国籍",
                obligation2: "• 获取多年居留许可（多年居留卡或长期居留卡），如果您是非欧盟成员国公民",
                highlight2Title: "例外情况：",
                exception1: "• 如果您申请更新您的多年居留卡或长期居留卡，则无需参加公民考试",
                exception2: "• 如果您是国际保护受益人（例如），则不受此考试影响",
                section3Title: "何时参加公民考试？",
                section3Text1: "公民考试必须在提交居留许可或入籍申请之前通过。",
                section3Text2: "对于希望获得多年居留许可的人员，考试必须在公民培训（为期24小时，分4天进行）结束后进行。目前，外国人在获得居留许可后，在其共和融合合同框架内参加此培训。从2026年1月1日起，他们必须在获得居留许可之前参加此培训。",
                highlight3Title: "重要提示：",
                highlight3Text: "公民考试通过证明没有有效期限。",
                section4Title: "考试主题",
                section4Text: "构成公民考试的每套多项选择题将涵盖公民培训期间学习的5个主题：",
                resourceText: "您可以在网站 formation-civique.interieur.gouv.fr 上找到准备公民考试的资料，并了解可以参加考试的认证中心。",
                
                // FAQ Section
                faqTitle: "常见问题",
                faqSubtitle: "快速找到关于新公民考试的问题答案",
                faq1Q: "谁必须参加公民考试？",
                faq2Q: "官方考试有多少道题？",
                faq3Q: "公民考试会取代语言测试吗？",
                
                // Footer
                footerAbout: "关于我们",
                footerAboutText: "千帆协会一直协助在法华人社区进行融合程序、法语学习以及官方考试准备。",
                footerLinks: "快速链接",
                footerLink1: "首页",
                footerLink2: "在线测试",
                footerLink3: "考试主题",
                footerLink4: "新政解读",
                footerLink5: "常见问题",
                footerLink6: "管理后台",
                footerContact: "联系我们",
                footerEmail: "2025qianfan@gmail.com",
                footerAddress: "注册于巴黎的协会",
                footerCopyright: "© 2025 千帆协会 / Association Mille Voiles - 版权所有。"
            }
        };

        // 当前语言
        let currentLang = 'fr';

        // 切换语言函数
        function switchLanguage(lang) {
            currentLang = lang;
            
            // 更新语言按钮状态
            document.getElementById('langFr').classList.toggle('active', lang === 'fr');
            document.getElementById('langZh').classList.toggle('active', lang === 'zh');
            
            // 获取翻译数据
            const data = translations[lang];
            
            // 遍历所有数据项并更新页面
            for (const [key, value] of Object.entries(data)) {
                const element = document.getElementById(key);
                if (element) {
                    if (key.includes('Btn') || key.includes('Info') || key.includes('Title') || key.includes('Desc') || key.includes('Text')) {
                        element.innerHTML = value;
                    } else {
                        element.textContent = value;
                    }
                }
            }
            
            // 切换FAQ回答的显示
            toggleFAQAnswers(lang);
        }

        // 切换FAQ回答显示的函数
        function toggleFAQAnswers(lang) {
            const faqContainers = document.querySelectorAll('.faq-answer > div');
            
            faqContainers.forEach(container => {
                if (lang === 'fr') {
                    if (container.id.includes('Fr')) {
                        container.style.display = 'block';
                    } else if (container.id.includes('Zh')) {
                        container.style.display = 'none';
                    }
                } else {
                    if (container.id.includes('Fr')) {
                        container.style.display = 'none';
                    } else if (container.id.includes('Zh')) {
                        container.style.display = 'block';
                    }
                }
            });
        }

        // 页面初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 设置默认语言
            switchLanguage('fr');
            
            // FAQ功能
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('active');
                    
                    faqItems.forEach(otherItem => {
                        if (otherItem !== this && otherItem.classList.contains('active')) {
                            otherItem.classList.remove('active');
                        }
                    });
                });
            });
            
            // 平滑滚动
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // 窗口大小变化时，如果大于1024px，确保汉堡菜单关闭
            window.addEventListener('resize', function() {
                if (window.innerWidth > 1024) {
                    hamburgerBtn.classList.remove('active');
                    navLinks.classList.remove('active');
                }
            });
        });
          // PWA功能代码
  let deferredPrompt;
  let isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
  let isAndroid = /Android/.test(navigator.userAgent);
  let isStandalone = window.matchMedia('(display-mode: standalone)').matches || 
                     window.navigator.standalone || 
                     document.referrer.includes('android-app://');
  
  // 初始化
  document.addEventListener('DOMContentLoaded', function() {
    // 注册Service Worker
    registerServiceWorker();
    
    // 检查是否已安装
    if (!isStandalone) {
      // 检测是否支持PWA安装
      if ('serviceWorker' in navigator && 'PushManager' in window) {
        // 延迟显示安装按钮，让页面先加载
        setTimeout(() => {
          checkPWAInstallable();
        }, 3000);
      }
    }
    
    // 检测网络状态
    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    updateOnlineStatus();
    
    // 添加多语言支持到PWA部分
    updatePWAStrings();
  });
  
  // 注册Service Worker
  function registerServiceWorker() {
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(registration => {
            console.log('Service Worker enregistré avec succès:', registration);
            
            // 检查更新
            registration.addEventListener('updatefound', () => {
              const newWorker = registration.installing;
              console.log('Nouveau Service Worker trouvé:', newWorker);
            });
          })
          .catch(error => {
            console.log('Échec de l\'enregistrement du Service Worker:', error);
          });
      });
    }
  }
  
  // 检查是否可以安装PWA
  function checkPWAInstallable() {
    // 监听beforeinstallprompt事件
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      // 显示安装按钮
      showInstallButton();
    });
    
    // 如果是iOS，总是显示安装按钮
    if (isIOS && !isStandalone) {
      showInstallButton();
    }
  }
  
  // 显示安装按钮
  function showInstallButton() {
    const installButton = document.getElementById('pwa-install-button');
    if (installButton) {
      installButton.style.display = 'block';
    }
  }
  
  // 显示安装指引
  function showInstallGuide() {
    const installGuide = document.getElementById('pwa-install-guide');
    if (installGuide) {
      installGuide.style.display = 'flex';
      
      // 根据设备类型显示相应指引
      if (isIOS) {
        showInstructions('ios');
      } else if (isAndroid) {
        showInstructions('android');
      }
      
      // 如果是支持beforeinstallprompt的浏览器，显示安装按钮
      const installPwaBtn = document.getElementById('installPwaBtn');
      if (deferredPrompt && installPwaBtn) {
        installPwaBtn.style.display = 'inline-block';
      }
    }
  }
  
  // 关闭安装指引
  function closeInstallGuide() {
    const installGuide = document.getElementById('pwa-install-guide');
    if (installGuide) {
      installGuide.style.display = 'none';
    }
  }
  
  // 显示安装指引步骤
  function showInstructions(device) {
    // 更新设备选择按钮
    const iosBtn = document.getElementById('iosBtn');
    const androidBtn = document.getElementById('androidBtn');
    const iosInstructions = document.getElementById('ios-instructions');
    const androidInstructions = document.getElementById('android-instructions');
    
    if (device === 'ios') {
      iosBtn.classList.add('active');
      androidBtn.classList.remove('active');
      iosInstructions.classList.add('active');
      androidInstructions.classList.remove('active');
    } else {
      iosBtn.classList.remove('active');
      androidBtn.classList.add('active');
      iosInstructions.classList.remove('active');
      androidInstructions.classList.add('active');
    }
  }
  
  // 安装PWA
  function installPWA() {
    if (deferredPrompt) {
      deferredPrompt.prompt();
      
      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('Utilisateur a accepté l\'installation PWA');
          // 隐藏安装按钮
          const installButton = document.getElementById('pwa-install-button');
          if (installButton) {
            installButton.style.display = 'none';
          }
          closeInstallGuide();
        } else {
          console.log('Utilisateur a refusé l\'installation PWA');
        }
        deferredPrompt = null;
      });
    } else {
      // 对于不支持beforeinstallprompt的设备，显示指引
      showInstallGuide();
    }
  }
  
  // 更新在线状态
  function updateOnlineStatus() {
    const offlineNotice = document.getElementById('offline-notice');
    if (offlineNotice) {
      if (!navigator.onLine) {
        offlineNotice.style.display = 'block';
      } else {
        offlineNotice.style.display = 'none';
      }
    }
  }
  
  // 更新PWA相关字符串的多语言支持
  function updatePWAStrings() {
    // 这个函数会被语言切换功能调用
    const pwaTranslations = {
      fr: {
        installBtnText: "Installer l'app",
        installGuideTitle: "Installer l'application",
        iosStep1: "Ouvrez Safari",
        iosStep1Desc: "Accédez à cette page via Safari sur votre iPhone",
        iosStep2: "Cliquez sur \"Partager\"",
        iosStep2Desc: "Appuyez sur l'icône de partage en bas de l'écran",
        iosStep3: "Ajouter à l'écran d'accueil",
        iosStep3Desc: "Faites défiler et sélectionnez \"Sur l'écran d'accueil\"",
        iosStep4: "Confirmer l'installation",
        iosStep4Desc: "Appuyez sur \"Ajouter\" en haut à droite",
        androidStep1: "Ouvrez Chrome",
        androidStep1Desc: "Accédez à cette page via Chrome sur votre Android",
        androidStep2: "Menu des options",
        androidStep2Desc: "Appuyez sur les trois points en haut à droite",
        androidStep3: "Installer l'app",
        androidStep3Desc: "Sélectionnez \"Ajouter à l'écran d'accueil\"",
        androidStep4: "Confirmer",
        androidStep4Desc: "Appuyez sur \"Installer\" pour confirmer",
        closeGuideBtn: "Fermer",
        installPwaBtn: "Installer maintenant",
        offlineText: "Mode hors ligne - Vous pouvez continuer à utiliser l'application"
      },
      zh: {
        installBtnText: "安装应用",
        installGuideTitle: "安装应用程序",
        iosStep1: "打开Safari",
        iosStep1Desc: "在您的iPhone上通过Safari访问此页面",
        iosStep2: "点击\"分享\"",
        iosStep2Desc: "点击屏幕底部的分享图标",
        iosStep3: "添加到主屏幕",
        iosStep3Desc: "滚动并选择\"添加到主屏幕\"",
        iosStep4: "确认安装",
        iosStep4Desc: "点击右上角的\"添加\"",
        androidStep1: "打开Chrome",
        androidStep1Desc: "在您的Android设备上通过Chrome访问此页面",
        androidStep2: "选项菜单",
        androidStep2Desc: "点击右上角的三个点",
        androidStep3: "安装应用",
        androidStep3Desc: "选择\"添加到主屏幕\"",
        androidStep4: "确认",
        androidStep4Desc: "点击\"安装\"进行确认",
        closeGuideBtn: "关闭",
        installPwaBtn: "立即安装",
        offlineText: "离线模式 - 您可以继续使用应用程序"
      }
    };
    
    // 这个函数会被外部调用
    window.updatePWAStrings = function(lang) {
      const translations = pwaTranslations[lang] || pwaTranslations.fr;
      
      for (const [key, value] of Object.entries(translations)) {
        const element = document.getElementById(key);
        if (element) {
          element.textContent = value;
        }
      }
    };
    
    // 初始设置
    updatePWAStrings(currentLang);
  }
  
  // 修改现有的switchLanguage函数，添加PWA字符串更新
  const originalSwitchLanguage = window.switchLanguage;
  window.switchLanguage = function(lang) {
    // 调用原始函数
    if (originalSwitchLanguage) {
      originalSwitchLanguage(lang);
    }
    
    // 更新PWA字符串
    if (window.updatePWAStrings) {
      updatePWAStrings(lang);
    }
  };
    </script>
</body>
</html>
